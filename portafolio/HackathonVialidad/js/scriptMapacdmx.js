
fserie("DIA")
fmapa()
$( ".btn" ).click(function() {
          var et=this.id;
          
          fserie(et);
        });

function fserie(tipodevis){
   if(tipodevis=="DIA"){ 
    d3.select("g.grupocompletito").remove();
    var meses=[["Enero" , 31], ["Febrero" , 29], ["Marzo", 31], ["Abril" , 30], ["Mayo" , 31], 
 ["Junio" , 30], ["Julio" , 31], ["Agosto" , 31], ["Septiembre" , 30], ["Octubre" , 31], 
 ["Noviembre" , 30], ["Diciembre" , 31]];
    console.log("d")
      var w=parseInt(d3.select("div#VisSeries").style("width"),10)
    var h=w;
    var fesc=11564.1;
        console.log("d")

    var svg=d3.select("svg#VisSerie")
        .attr("width",w)
        .attr("height",h)
        .append("g").attr("class","grupocompletito")
        .attr("transform","translate("+.5*w+","+.5*h+")")
    var ri =w*.1;
    var año1=2014;
    var dr=ri*.0025, di=w*.01;
    var dx=.007;
    var yesc=w*.00025;
    var dang=360./366;
    var dangrad=2*Math.PI/366;
    var cont=0;

    d3.csv("./datos/basetempora.csv",function(error,data){
        var correc=0;
        var textodia=svg.append("text").attr("class","meses").attr("y",w*.03).attr("x",0).style("text-anchor","middle").style("font-size",(18*w/800)+"px").style("font-weight","700").style("opacity",.7)
        var textoreps=svg.append("text").attr("class","meses").attr("y",-w*.02).attr("x",0).style("text-anchor","middle").style("font-size",(18*w/800)+"px").style("font-weight","700").style("opacity",.7)
        var rects =svg.selectAll("barras").data(data).enter()
            .append("rect")
            .attr("width",function(d,i){return 2* dx*(ri + dr*i)})
            .attr("height",function(d){return yesc*d.incid})
            .attr("y",function(d,i){return -ri - i*dr-yesc*d.incid})
            .attr("x",0)
            .style("fill-opacity",0)
            .attr("transform",function(d,i){
                if(d.Año==2015 && d.mes==3 && d.dia==1){correc=correc+1;}
                if(d.Año==2017 && d.mes==3 && d.dia==1){correc=correc+1;}

             return "rotate("+(0+dang*i+correc)+",0,0)"})
            .on("mouseover",function(d){
                d3.selectAll("rect").style("fill","#ff161f")
                d3.select(this).style("fill","yellow").style("fill-opacity",1)
                textodia.text(d.dia+"/"+d.mes+"/"+d.Año);
                textoreps.text(d.incid+" reportes")})
            .on("mouseout",function(d){
                d3.select(this).style("fill-opacity",function(d){return d.incid/402.})
                })

            


        rects.transition().delay(function(d,i){return 75*Math.sqrt(i)})
            .style("fill-opacity",function(d){return d.incid/402.})
            

        for(var i =0;i<4;i++){
            año1=año1+1;
            svg.append("text").attr("class","meses")
                .attr("y",-ri-(i*366)*dr)
                .attr("x",0)
                .text(año1+"")
                .style("font-size",(12*w/800)+"px").style("opacity","0")
                .transition().delay(75*Math.sqrt(i*365)).duration(200).style("opacity",".8")   
        }
    })

    for(var i=0;i<meses.length;i++){
        svg.append("line")
            .attr("x1",ri*.9*Math.cos(.5*Math.PI-dangrad*cont))
            .attr("y1",-ri*.9*Math.sin(.5*Math.PI-dangrad*cont))
            .attr("x2",w*.45*Math.cos(.5*Math.PI-dangrad*cont))
            .attr("y2",-w*.45*Math.sin(.5*Math.PI-dangrad*cont))
            .attr("class","lineasmeses")
            .style("stroke-width",w/800)
            .style("stroke-opacity","0")
            .transition().delay(75*Math.sqrt(i*30)).duration(200).style("stroke-opacity",".8")
        svg.append("text").attr("class","meses")
            .attr("x",w*.43*Math.cos(.5*Math.PI-dangrad*(cont+meses[i][1]*.5)))
            .attr("y",-.02*w-w*.43*Math.sin(.5*Math.PI-dangrad*(cont+meses[i][1]*.5)))
            .text(meses[i][0])
            .style("opacity","0").style("font-size",(12*w/800)+"px")
            .style("text-anchor",function(){if(i<7){return "start"}else{return "end"}})
            .transition().delay(75*Math.sqrt(i*30)).duration(200).style("opacity",".8")    
        cont=cont+meses[i][1];
    }
    svg.append("rect").attr("x",-w*.45).attr("y",w*.45)
        .attr("height",w*.005)
        .attr("width",400*yesc).style("fill-opacity",400/402)
    svg.append("rect").attr("x",-w*.45).attr("y",w*.425)
        .attr("height",w*.005)
        .attr("width",200*yesc).style("fill-opacity",200/402)
    svg.append("rect").attr("x",-w*.45).attr("y",w*.40)
        .attr("height",w*.005)
        .attr("width",100*yesc).style("fill-opacity",100/402)

    svg.append("text").attr("x",-w*.45+400*yesc).attr("y",w*.45).text("400").attr("class","meses").style("dominant-baseline", "middle").style("font-size",(15*w/800)+"px")
    svg.append("text").attr("x",-w*.45+200*yesc).attr("y",w*.425).text("200").attr("class","meses").style("dominant-baseline", "middle").style("font-size",(15*w/800)+"px")
    svg.append("text").attr("x",-w*.45+100*yesc).attr("y",w*.40).text("100").attr("class","meses").style("dominant-baseline", "middle").style("font-size",(15*w/800)+"px")



    }else if(tipodevis=="SEMA"){

    d3.select("g.grupocompletito").remove();
    var meses=[["Enero" , 31], ["Febrero" , 29], ["Marzo", 31], ["Abril" , 30], ["Mayo" , 31], ["Junio" , 30], ["Julio" , 31], ["Agosto" , 31], ["Septiembre" , 30], ["Octubre" , 31],  ["Noviembre" , 30], ["Diciembre" , 31]];
    console.log("d")
      var w=parseInt(d3.select("div#VisSeries").style("width"),10)
    var h=w;
    var fesc=11564.1;
        console.log("d")

    var svg=d3.select("svg#VisSerie")
        .attr("width",w)
        .attr("height",h)
        .append("g").attr("class","grupocompletito")
        .attr("transform","translate("+.5*w+","+.5*h+")")
    var ri =w*.1;
    var año1=2014;
    var dr=ri*.015, di=w*.01;
    var dx=.049;
    var yesc=w*.00004;
    var dangradsem=2*Math.PI/52.19;
    var dang=360./52.19;
    var dangrad=2*Math.PI/366;
    var cont=0;
    var eskalat=150;

    d3.csv("./datos/basesemanal.csv",function(error,data){
        var correc=0;

        var textodia=svg.append("text").attr("class","meses").attr("y",w*.005).attr("x",0).style("text-anchor","middle").style("font-size",(18*w/800)+"px").style("font-weight","700").style("opacity",.7)
        var textodiaf=svg.append("text").attr("class","meses").attr("y",w*0.04).attr("x",0).style("text-anchor","middle").style("font-size",(18*w/800)+"px").style("font-weight","700").style("opacity",.7)
        var textoreps=svg.append("text").attr("class","meses").attr("y",-w*.03).attr("x",0).style("text-anchor","middle").style("font-size",(18*w/800)+"px").style("font-weight","700").style("opacity",.7)

        var rects =svg.selectAll("barras").data(data).enter()
            .append("rect")
            .attr("width",function(d,i){return 2* dx*(ri + dr*i)})
            .attr("height",function(d){return yesc*d.incid})
            .attr("y",function(d,i){return -ri - i*dr-yesc*d.incid})
            .attr("x",0)
            .style("fill-opacity",0)
            .attr("transform",function(d,i){

             return "rotate("+((360*4/366)+dang*i+correc)+",0,0)"})
            .on("mouseover",function(d){
                d3.selectAll("rect").style("fill","#ff161f")
                d3.select(this).style("fill","yellow").style("fill-opacity",1)
                textodia.text("del "+d.dia+"/"+d.mes+"/"+d.Año);
                textodiaf.text("al "+d.diaf+"/"+d.mesf+"/"+d.Añof);
                textoreps.text(d.incid+" reportes")})
            .on("mouseout",function(d){
                d3.select(this).style("fill-opacity",function(d){return d.incid/1957.})
                })

        rects.transition().delay(function(d,i){return eskalat*Math.sqrt(i)}).style("fill-opacity",function(d){return d.incid/1957.})
        for(var i =0;i<4;i++){
            año1=año1+1;
            svg.append("text").attr("class","meses")
                .attr("y",-ri-(i*52.19)*dr)
                .attr("x",0)
                .text(año1+"")
                .style("font-size",(12*w/800)+"px").style("opacity","0")
                .transition().delay(eskalat*Math.sqrt(i*52)).duration(200).style("opacity",".8")   
        }
    })

    for(var i=0;i<meses.length;i++){
        svg.append("line")
            .attr("x1",ri*.9*Math.cos(.5*Math.PI-dangrad*cont))
            .attr("y1",-ri*.9*Math.sin(.5*Math.PI-dangrad*cont))
            .attr("x2",w*.45*Math.cos(.5*Math.PI-dangrad*cont))
            .attr("y2",-w*.45*Math.sin(.5*Math.PI-dangrad*cont))
            .attr("class","lineasmeses")
            .style("stroke-width",w/800)
            .style("stroke-opacity","0")
            .transition().delay(eskalat*Math.sqrt(i*4.2)).duration(200).style("stroke-opacity",".8")
        svg.append("text").attr("class","meses")
            .attr("x",w*.43*Math.cos(.5*Math.PI-dangrad*(cont+meses[i][1]*.5)))
            .attr("y",-.02*w-w*.43*Math.sin(.5*Math.PI-dangrad*(cont+meses[i][1]*.5)))
            .text(meses[i][0])
            .style("opacity","0").style("font-size",(12*w/800)+"px")
            .style("text-anchor",function(){if(i<7){return "start"}else{return "end"}})
            .transition().delay(eskalat*Math.sqrt(i*4.2)).duration(200).style("opacity",".8")    
        cont=cont+meses[i][1];
    }
    svg.append("rect").attr("x",-w*.45).attr("y",w*.45)
        .attr("height",w*.015)
        .attr("width",1900*yesc).style("fill-opacity",1900/1957);
    svg.append("rect").attr("x",-w*.45).attr("y",w*.425)
        .attr("height",w*.015)
        .attr("width",1000*yesc).style("fill-opacity",1000/1957);
    svg.append("rect").attr("x",-w*.45).attr("y",w*.40)
        .attr("height",w*.015)
        .attr("width",500*yesc).style("fill-opacity",500/1957);

    svg.append("text").attr("x",-w*.45+1900*yesc).attr("y",w*.45).text("1900").attr("class","meses").style("dominant-baseline", "middle").style("font-size",(15*w/800)+"px");

    svg.append("text").attr("x",-w*.45+1000*yesc).attr("y",w*.425).text("1000").attr("class","meses").style("dominant-baseline", "middle").style("font-size",(15*w/800)+"px");

    svg.append("text").attr("x",-w*.45+500*yesc).attr("y",w*.40).text("500").attr("class","meses").style("dominant-baseline", "middle").style("font-size",(15*w/800)+"px");


    }
    else if(tipodevis=="Camion"){d3.select("img.imagenvehi").attr("src","./imgs/Camion.png").style("top","calc(60px - 8vw)")}
    else if(tipodevis=="Motos"){d3.select("img.imagenvehi").attr("src","./imgs/Moto.png").style("top","calc(70px - 6vw)")}
    else if(tipodevis=="Autos"){d3.select("img.imagenvehi").attr("src","./imgs/Auto.png").style("top","calc(30px - 12vw)")}

}





function fmapa(){
    var clavnumcol={"11065": 1039,"11066": 710,"11067": 807,"11068": 209,"11069": 785,"11070": 161,"11071": 0,"11072": 201,"11073": 123,"11074": 175,"11075": 88,"11076": 109,"11077": 310,"11078": 332,"11079": 20,"11080": 693,"11081": 55,"11082": 175,"11083": 10,"11084": 86,"11085": 197,"11086": 345,"11087": 9,"11088": 62,"11089": 5,"11090": 8,"11091": 25,"11092": 26,"11093": 3,"11094": 0,"11095": 0,"11096": 0,"11097": 0,"11098": 0,"11099": 26,"11100": 23,"11101": 31,"11102": 53,"11103": 128,"11104": 217,"11105": 56,"11106": 50,"11107": 5,"11108": 98,"11109": 110,"11110": 25,"11111": 15,"11112": 4,"11113": 6,"11114": 34,"11115": 42,"11116": 6,"11117": 29,"11118": 156,"11119": 91,"11120": 50,"11121": 79,"11122": 32,"11123": 69,"11124": 47,"11125": 15,"11126": 92,"11127": 52,"11128": 7,"11129": 3,"11130": 76,"11131": 362,"11132": 229,"11133": 484,"11134": 33,"11135": 15,"11136": 36,"11137": 21,"11138": 13,"11139": 117,"11140": 66,"11141": 253,"11142": 682,"11143": 950,"11144": 227,"11145": 4,"11146": 25,"11147": 11,"11148": 6,"11149": 11,"11150": 8,"11151": 5,"11152": 22,"11153": 12,"11154": 48,"11155": 2,"11156": 7,"11157": 50,"11158": 1,"11159": 5,"11160": 1,"11161": 3,"11162": 33,"11163": 58,"11164": 2,"11165": 20,"11166": 2,"11167": 3,"11168": 6,"11169": 135,"11170": 48,"11171": 3,"11172": 5,"11173": 4,"11174": 6,"11175": 78,"11176": 16,"11177": 0,"11178": 5,"11179": 6,"11180": 2,"11181": 6,"11182": 5,"11183": 6,"11184": 15,"11185": 24,"11186": 9,"11187": 2,"11188": 6,"11189": 5,"11190": 24,"11191": 16,"11192": 19,"11193": 22,"11194": 3,"11195": 28,"11196": 31,"11197": 24,"11198": 3,"11199": 29,"11200": 29,"11201": 11,"11202": 12,"11203": 0,"11204": 17,"11205": 11,"11206": 40,"11207": 66,"11208": 22,"11209": 14,"11210": 12,"11211": 61,"11212": 227,"11213": 28,"11214": 17,"11215": 20,"11216": 0,"11217": 8,"11218": 44,"11219": 7,"11220": 186,"11221": 42,"11222": 3,"11223": 102,"11224": 28,"11225": 100,"11226": 23,"11227": 240,"11228": 26,"11229": 132,"11230": 239,"11231": 40,"11232": 15,"11233": 4,"11234": 54,"11235": 12,"11236": 206,"11237": 44,"11238": 234,"11239": 314,"11240": 6,"11241": 148,"11242": 43,"11243": 0,"11244": 5,"11245": 7,"11246": 3,"11247": 63,"11248": 0,"11249": 57,"11250": 42,"11251": 29,"11252": 17,"11253": 2,"11254": 2,"11255": 1,"11256": 10,"11257": 2,"11258": 9,"11259": 46,"11260": 3,"11261": 10,"11262": 14,"11263": 0,"11264": 1,"11265": 13,"11266": 4,"11267": 17,"11268": 0,"11269": 13,"11270": 3,"11271": 1,"11272": 1,"11273": 26,"11274": 17,"11275": 26,"11276": 3,"11277": 6,"11278": 13,"11279": 10,"11280": 8,"11281": 13,"11282": 15,"11283": 62,"11284": 94,"11285": 0,"11286": 0,"11287": 20,"11288": 9,"11289": 13,"11290": 0,"11291": 309,"11292": 45,"11293": 33,"11294": 17,"11295": 20,"11296": 6,"11297": 121,"11298": 55,"11299": 12,"11300": 6,"11301": 3,"11302": 2,"11303": 1,"11304": 19,"11305": 40,"11306": 1,"11307": 1,"11308": 11,"11309": 2,"11310": 7,"11311": 22,"11312": 5,"11313": 13,"11314": 1,"11315": 31,"11316": 8,"11317": 21,"11318": 3,"11319": 165,"11320": 21,"11321": 5,"11322": 4,"11323": 9,"11324": 169,"11325": 69,"11326": 186,"11327": 46,"11328": 70,"11329": 81,"11330": 44,"11331": 105,"11332": 68,"11333": 6,"11334": 21,"11335": 49,"11336": 42,"11337": 9,"11338": 13,"11339": 160,"11340": 98,"11341": 6,"11342": 67,"11343": 205,"11344": 43,"11345": 21,"11346": 37,"11347": 397,"11348": 38,"11349": 24,"11350": 61,"11351": 21,"11352": 137,"11353": 26,"11354": 9,"11355": 37,"11356": 88,"11357": 106,"11358": 62,"11359": 64,"11360": 58,"11361": 123,"11362": 83,"11363": 0,"11364": 5,"11365": 18,"11366": 6,"11367": 8,"11368": 98,"11369": 0,"11370": 17,"11371": 2441,"11372": 8,"11373": 37,"11374": 50,"11375": 9,"11376": 34,"11377": 78,"11378": 127,"11379": 50,"11380": 25,"11381": 70,"11382": 8,"11383": 46,"11384": 32,"11385": 175,"11386": 93,"11387": 33,"11388": 272,"11389": 132,"11390": 54,"11391": 263,"11392": 0,"11393": 9,"11394": 342,"11395": 1,"11396": 5,"11397": 7,"11398": 53,"11399": 20,"11400": 28,"11401": 2,"11402": 74,"11403": 17,"11404": 1,"11405": 13,"11406": 87,"11407": 3,"11408": 16,"11409": 145,"11410": 44,"11411": 169,"11412": 73,"11413": 60,"11414": 271,"11415": 53,"11416": 313,"11417": 45,"11418": 26,"11419": 110,"11420": 1317,"11421": 32,"11422": 81,"11423": 20,"11424": 275,"11425": 4,"11426": 108,"11427": 106,"11428": 0,"11429": 69,"11430": 25,"11431": 66,"11432": 0,"11433": 58,"11434": 27,"11435": 104,"11436": 1,"11437": 28,"11438": 74,"11439": 53,"11440": 31,"11441": 62,"11442": 21,"11443": 96,"11444": 28,"11445": 111,"11446": 337,"11447": 47,"11448": 22,"11449": 157,"11450": 69,"11451": 147,"11452": 15,"11453": 65,"11454": 67,"11455": 55,"11456": 12,"11457": 56,"11458": 24,"11459": 99,"11460": 49,"11461": 145,"11462": 66,"11463": 99,"11464": 30,"11465": 12,"11466": 53,"11467": 42,"11468": 129,"11469": 39,"11470": 15,"11471": 27,"11472": 75,"11473": 270,"11474": 62,"11475": 87,"11476": 51,"11477": 129,"11478": 268,"11479": 214,"11480": 38,"11481": 117,"11482": 85,"11483": 56,"11484": 88,"11485": 58,"11486": 143,"11487": 66,"11488": 57,"11489": 122,"11490": 168,"11491": 8,"11492": 243,"11493": 503,"11494": 112,"11495": 1363,"11496": 922,"11497": 40,"11498": 1224,"11499": 438,"11500": 1738,"11501": 1426,"11502": 442,"11503": 105,"11504": 296,"11505": 433,"11506": 753,"11507": 695,"11508": 970,"11509": 49,"11510": 144,"11511": 451,"11512": 343,"11513": 713,"11514": 123,"11515": 21,"11516": 29,"11517": 159,"11518": 429,"11519": 237,"11520": 75,"11521": 95,"11522": 84,"11523": 59,"11524": 88,"11525": 122,"11526": 106,"11527": 112,"11528": 486,"11529": 237,"11530": 55,"11531": 275,"11532": 39,"11533": 414,"11534": 247,"11535": 750,"11536": 479,"11537": 205,"11538": 301,"11539": 117,"11540": 1349,"11541": 191,"11542": 1036,"11543": 0,"11544": 50,"11545": 666,"11546": 498,"11547": 441,"11548": 126,"11549": 319,"11550": 50,"11551": 669,"11552": 135,"11553": 33,"11554": 124,"11555": 1,"11556": 208,"11557": 2,"11558": 595,"11559": 1113,"11560": 161,"11561": 5,"11562": 257,"11563": 114,"11564": 378,"11565": 61,"11566": 38,"11567": 959,"11568": 398,"11569": 263,"11570": 351,"11571": 20,"11572": 265,"11573": 15,"11574": 54,"11575": 387,"11576": 60,"11577": 52,"11578": 12,"11579": 600,"11580": 2,"11581": 30,"11582": 7,"11583": 60,"11584": 194,"11585": 116,"11586": 260,"11587": 201,"11588": 7,"11589": 62,"11590": 5,"11591": 144,"11592": 122,"11593": 66,"11594": 10,"11595": 13,"11596": 0,"11597": 1,"11598": 5,"11599": 0,"11600": 8,"11601": 2,"11602": 0,"11603": 12,"11604": 55,"11605": 289,"11606": 2,"11607": 1,"11608": 6,"11609": 161,"11610": 36,"11611": 117,"11612": 42,"11613": 3,"11614": 7,"11615": 71,"11616": 17,"11617": 12,"11618": 29,"11619": 22,"11620": 24,"11621": 32,"11622": 127,"11623": 80,"11624": 77,"11625": 117,"11626": 2395,"11627": 18,"11628": 0,"11629": 608,"11630": 112,"11631": 0,"11632": 15,"11633": 213,"11634": 283,"11635": 40,"11636": 2,"11637": 146,"11638": 0,"11639": 4,"11640": 18,"11641": 14,"11642": 231,"11643": 36,"11644": 43,"11645": 61,"11646": 81,"11647": 123,"11648": 445,"11649": 181,"11650": 56,"11651": 24,"11652": 10,"11653": 12,"11654": 9,"11655": 3,"11656": 158,"11657": 147,"11658": 30,"11659": 11,"11660": 165,"11661": 14,"11662": 44,"11663": 368,"11664": 791,"11665": 371,"11666": 36,"11667": 4,"11668": 350,"11669": 348,"11670": 71,"11671": 0,"11672": 1,"11673": 89,"11674": 164,"11675": 0,"11676": 14,"11677": 417,"11678": 2,"11679": 0,"11680": 309,"11681": 20,"11682": 55,"11683": 19,"11684": 2,"11685": 41,"11686": 34,"11687": 24,"11688": 0,"11689": 6,"11690": 202,"11691": 55,"11692": 34,"11693": 103,"11694": 170,"11695": 53,"11696": 68,"11697": 332,"11698": 249,"11699": 242,"11700": 51,"11701": 319,"11702": 179,"11703": 135,"11704": 4,"11705": 47,"11706": 20,"11707": 20,"11708": 5,"11709": 380,"11710": 16,"11711": 248,"11712": 87,"11713": 18,"11714": 71,"11715": 71,"11716": 82,"11717": 20,"11718": 50,"11719": 94,"11720": 200,"11721": 96,"11722": 418,"11723": 99,"11724": 136,"11725": 21,"11726": 69,"11727": 56,"11728": 85,"11729": 54,"11730": 155,"11731": 32,"11732": 111,"11733": 99,"11734": 186,"11735": 333,"11736": 78,"11737": 285,"11738": 29,"11739": 18,"11740": 233,"11741": 9,"11742": 9,"11743": 20,"11744": 29,"11745": 6,"11746": 503,"11747": 15,"11748": 14,"11749": 43,"11750": 39,"11751": 135,"11752": 288,"11753": 195,"11754": 326,"11755": 54,"11756": 43,"11757": 76,"11758": 105,"11759": 55,"11760": 43,"11761": 12,"11762": 32,"11763": 17,"11764": 9,"11765": 131,"11766": 115,"11767": 224,"11768": 16,"11769": 11,"11770": 20,"11771": 113,"11772": 2,"11773": 29,"11774": 98,"11775": 81,"11776": 5,"11777": 87,"11778": 44,"11779": 1678,"11780": 19,"11781": 31,"11782": 113,"11783": 16,"11784": 3,"11785": 48,"11786": 44,"11787": 159,"11788": 17,"11789": 23,"11790": 158,"11791": 45,"11792": 0,"11793": 21,"11794": 290,"11795": 87,"11796": 14,"11797": 42,"11798": 27,"11799": 0,"11800": 2755,"11801": 642,"11802": 1122,"11803": 837,"11804": 426,"11805": 335,"11806": 698,"11807": 232,"11808": 221,"11809": 95,"11810": 50,"11811": 839,"11812": 388,"11813": 981,"11814": 333,"11815": 270,"11816": 754,"11817": 1681,"11818": 1784,"11819": 2014,"11820": 1464,"11821": 52,"11822": 1368,"11823": 511,"11824": 852,"11825": 283,"11826": 65,"11827": 198,"11828": 111,"11829": 100,"11830": 474,"11831": 163,"11832": 425,"11833": 310,"11834": 178,"11835": 483,"11836": 4,"11837": 7,"11838": 10,"11839": 496,"11840": 84,"11841": 233,"11842": 30,"11843": 7,"11844": 40,"11845": 127,"11846": 1,"11847": 5,"11848": 9,"11849": 8,"11850": 44,"11851": 17,"11852": 35,"11853": 71,"11854": 20,"11855": 30,"11856": 23,"11857": 13,"11858": 14,"11859": 8,"11860": 4,"11861": 1,"11862": 14,"11863": 11,"11864": 18,"11865": 0,"11866": 1,"11867": 1,"11868": 0,"11869": 14,"11870": 2,"11871": 7,"11872": 12,"11873": 41,"11874": 2,"11875": 5,"11876": 0,"11877": 6,"11878": 12,"11879": 19,"11880": 8,"11881": 21,"11882": 2,"11883": 3,"11884": 20,"11885": 10,"11886": 16,"11887": 9,"11888": 0,"11889": 19,"11890": 0,"11891": 54,"11892": 12,"11893": 1,"11894": 26,"11895": 92,"11896": 4,"11897": 4,"11898": 8,"11899": 119,"11900": 3,"11901": 5,"11902": 2,"11903": 2,"11904": 12,"11905": 8,"11906": 0,"11907": 32,"11908": 6,"11909": 76,"11910": 1,"11911": 2,"11912": 0,"11913": 0,"11914": 0,"11915": 18,"11916": 109,"11917": 5,"11918": 162,"11919": 2,"11920": 5,"11921": 1,"11922": 36,"11923": 133,"11924": 1209,"11925": 86,"11926": 118,"11927": 9,"11928": 1,"11929": 132,"11930": 27,"11931": 0,"11932": 0,"11933": 1,"11934": 3,"11935": 0,"11936": 2,"11937": 6,"11938": 0,"11939": 83,"11940": 20,"11941": 24,"11942": 9,"11943": 2,"11944": 0,"11945": 130,"11946": 26,"11947": 44,"11948": 9,"11949": 13,"11950": 72,"11951": 206,"11952": 44,"11953": 12,"11954": 192,"11955": 84,"11956": 116,"11957": 93,"11958": 122,"11959": 75,"11960": 20,"11961": 27,"11962": 124,"11963": 54,"11964": 23,"11965": 67,"11966": 202,"11967": 8,"11968": 9,"11969": 0,"11970": 6,"11971": 8,"11972": 1,"11973": 0,"11974": 177,"11975": 235,"11976": 120,"11977": 113,"11978": 76,"11979": 43,"11980": 1,"11981": 9,"11982": 6,"11983": 287,"11984": 46,"11985": 94,"11986": 23,"11987": 3,"11988": 0,"11989": 0,"11990": 1,"11991": 2,"11992": 1,"11993": 2,"11994": 77,"11995": 21,"11996": 62,"11997": 237,"11998": 254,"11999": 223,"12000": 184,"12001": 50,"12002": 128,"12003": 28,"12004": 1,"12005": 4,"12006": 63,"12007": 313,"12008": 166,"12009": 133,"12010": 4,"12011": 0,"12012": 1,"12013": 83,"12014": 6,"12015": 0,"12016": 157,"12017": 2,"12018": 3,"12019": 409,"12020": 92,"12021": 246,"12022": 217,"12023": 31,"12024": 53,"12025": 243,"12026": 257,"12027": 111,"12028": 76,"12029": 83,"12030": 102,"12031": 115,"12032": 108,"12033": 54,"12034": 437,"12035": 225,"12036": 91,"12037": 139,"12038": 56,"12039": 130,"12040": 98,"12041": 442,"12042": 9,"12043": 13,"12044": 77,"12045": 51,"12046": 20,"12047": 9,"12048": 27,"12049": 1,"12050": 25,"12051": 143,"12052": 23,"12053": 27,"12054": 212,"12055": 689,"12056": 135,"12057": 33,"12058": 53,"12059": 27,"12060": 102,"12061": 93,"12062": 124,"12063": 418,"12064": 149,"12065": 91,"12066": 81,"12067": 19,"12068": 5,"12069": 52,"12070": 42,"12071": 0,"12072": 2,"12073": 4,"12074": 3,"12075": 6,"12076": 0,"12077": 0,"12078": 217,"12079": 0,"12080": 0,"12081": 1,"12082": 0,"12083": 4,"12084": 26,"12085": 41,"12086": 36,"12087": 19,"12088": 325,"12089": 367,"12090": 264,"12091": 164,"12092": 15,"12093": 29,"12094": 38,"12095": 271,"12096": 68,"12097": 63,"12098": 34,"12099": 27,"12100": 140,"12101": 1356,"12102": 215,"12103": 257,"12104": 55,"12105": 86,"12106": 40,"12107": 50,"12108": 8,"12109": 202,"12110": 105,"12111": 32,"12112": 827,"12113": 278,"12114": 74,"12115": 271,"12116": 1458,"12117": 139,"12118": 21,"12119": 21,"12120": 24,"12121": 28,"12122": 95,"12123": 1,"12124": 0,"12125": 14,"12126": 21,"12127": 68,"12128": 1,"12129": 32,"12130": 120,"12131": 117,"12132": 135,"12133": 72,"12134": 9,"12135": 5,"12136": 20,"12137": 86,"12138": 15,"12139": 0,"12140": 140,"12141": 41,"12142": 37,"12143": 37,"12144": 272,"12145": 162,"12146": 267,"12147": 14,"12148": 20,"12149": 0,"12150": 123,"12151": 14,"12152": 15,"12153": 122,"12154": 57,"12155": 11,"12156": 141,"12157": 29,"12158": 55,"12159": 88,"12160": 82,"12161": 2492,"12162": 146,"12163": 441,"12164": 177,"12165": 458,"12166": 79,"12167": 33,"12168": 155,"12169": 148,"12170": 105,"12171": 764,"12172": 5,"12173": 16,"12174": 119,"12175": 299,"12176": 160,"12177": 27,"12178": 20,"12179": 163,"12180": 425,"12181": 310,"12182": 53,"12183": 177,"12184": 9,"12185": 161,"12186": 57,"12187": 391,"12188": 63,"12189": 73,"12190": 2,"12191": 196,"12192": 29,"12193": 58,"12194": 40,"12195": 25,"12196": 1,"12197": 16,"12198": 3,"12199": 23,"12200": 286,"12201": 43,"12202": 81,"12203": 341,"12204": 359,"12205": 73,"12206": 28,"12207": 217,"12208": 11,"12209": 40,"12210": 354,"12211": 70,"12212": 24,"12213": 1,"12214": 24,"12215": 35,"12216": 14,"12217": 385,"12218": 52,"12219": 50,"12220": 10,"12221": 11,"12222": 8,"12223": 127,"12224": 68,"12225": 185,"12226": 20,"12227": 4,"12228": 18,"12229": 67,"12230": 248,"12231": 260,"12232": 4,"12233": 76,"12234": 39,"12235": 77,"12236": 5,"12237": 131,"12238": 71,"12239": 25,"12240": 110,"12241": 147,"12242": 47,"12243": 18,"12244": 15,"12245": 134,"12246": 62,"12247": 93,"12248": 72,"12249": 95,"12250": 95,"12251": 337,"12252": 123,"12253": 1,"12254": 318,"12255": 16,"12256": 8,"12257": 84,"12258": 98,"12259": 43,"12260": 5,"12261": 89,"12262": 106,"12263": 29,"12264": 271,"12265": 159,"12266": 30,"12267": 0,"12268": 0,"12269": 6,"12270": 54,"12271": 18,"12272": 16,"12273": 2,"12274": 0,"12275": 67,"12276": 3,"12277": 0,"12278": 15,"12279": 38,"12280": 10,"12281": 24,"12282": 112,"12283": 1,"12284": 0,"12285": 1,"12286": 55,"12287": 25,"12288": 16,"12289": 42,"12290": 17,"12291": 40,"12292": 135,"12293": 142,"12294": 47,"12295": 23,"12296": 17,"12297": 5,"12298": 0,"12299": 67,"12300": 9,"12301": 18,"12302": 101,"12303": 89,"12304": 83,"12305": 73,"12306": 64,"12307": 198,"12308": 36,"12309": 81,"12310": 21,"12311": 30,"12312": 84,"12313": 10,"12314": 153,"12315": 155,"12316": 239,"12317": 169,"12318": 16,"12319": 59,"12320": 7,"12321": 79,"12322": 40,"12323": 1,"12324": 9,"12325": 130,"12326": 8,"12327": 13,"12328": 3,"12329": 73,"12330": 80,"12331": 31,"12332": 47,"12333": 170,"12334": 176,"12335": 124,"12336": 100,"12337": 22,"12338": 166,"12339": 59,"12340": 9,"12341": 36,"12342": 11,"12343": 77,"12344": 10,"12345": 210,"12346": 69,"12347": 15,"12348": 37,"12349": 17,"12350": 19,"12351": 64,"12352": 31,"12353": 15,"12354": 13,"12355": 45,"12356": 117,"12357": 35,"12358": 41,"12359": 10,"12360": 13,"12361": 152,"12362": 0,"12363": 1,"12364": 7,"12365": 23,"12366": 118,"12367": 11,"12368": 137,"12369": 10,"12370": 216,"12371": 18,"12372": 19,"12373": 15,"12374": 22,"12375": 25,"12376": 42,"12377": 64,"12378": 9,"12379": 37,"12380": 43,"12381": 96,"12382": 170,"12383": 4,"12384": 135,"12385": 110,"12386": 59,"12387": 65,"12388": 8,"12389": 228,"12390": 23,"12391": 98,"12392": 26,"12393": 37,"12394": 68,"12395": 217,"12396": 151,"12397": 78,"12398": 20,"12399": 19,"12400": 2,"12401": 1,"12402": 27,"12403": 19,"12404": 2,"12405": 174,"12406": 57,"12407": 12,"12408": 87,"12409": 42,"12410": 14,"12411": 51,"12412": 41,"12413": 24,"12414": 377,"12415": 565,"12416": 63,"12417": 3,"12418": 24,"12419": 23,"12420": 39,"12421": 32,"12422": 8,"12423": 50,"12424": 3,"12425": 8,"12426": 28,"12427": 6,"12428": 20,"12429": 23,"12430": 338,"12431": 115,"12432": 26,"12433": 48,"12434": 63,"12435": 23,"12436": 69,"12437": 13,"12438": 69,"12439": 6,"12440": 5,"12441": 266,"12442": 128,"12443": 42,"12444": 51,"12445": 43,"12446": 59,"12447": 18,"12448": 6,"12449": 96,"12450": 61,"12451": 6,"12452": 203,"12453": 66,"12454": 391,"12455": 2115,"12456": 56,"12457": 171,"12458": 1107,"12459": 910,"12460": 30,"12461": 34,"12462": 226,"12463": 94,"12464": 164,"12465": 7,"12466": 102,"12467": 353,"12468": 134,"12469": 3,"12470": 54,"12471": 8,"12472": 38,"12473": 101,"12474": 68,"12475": 53,"12476": 23,"12477": 8,"12478": 54,"12479": 1226,"12480": 136,"12481": 1073,"12482": 198,"12483": 35,"12484": 59,"12485": 58,"12486": 71,"12487": 383,"12488": 383,"12489": 531,"12490": 435,"12491": 35,"12492": 40,"12493": 55,"12494": 75,"12495": 36,"12496": 67,"12497": 40,"12498": 44,"12499": 26,"12500": 23,"12501": 46,"12502": 37,"12503": 31,"12504": 19,"12505": 194,"12506": 20,"12507": 45,"12508": 84,"12509": 48,"12510": 12,"12511": 110,"12512": 13,"12513": 497,"12514": 373,"12515": 402,"12516": 907,"12517": 525,"12518": 151,"12519": 276,"12520": 619,"12521": 132,"12522": 547,"12523": 43,"12524": 309,"12525": 636,"12526": 617,"12527": 409,"12528": 136,"12529": 921,"12530": 482,"12531": 1590,"12532": 287,"12533": 121,"12534": 255,"12535": 161,"12536": 1102,"12537": 339,"12538": 746,"12539": 403,"12540": 496,"12541": 11,"12542": 8,"12543": 9,"12544": 29,"12545": 24,"12546": 10,"12547": 20,"12548": 11,"12549": 6,"12550": 6,"12551": 11,"12552": 29,"12553": 16,"12554": 0,"12555": 0,"12556": 0,"12557": 16,"12558": 11,"12559": 1,"12560": 28,"12561": 2,"12562": 11,"12563": 21,"12564": 8,"12565": 20,"12566": 27,"12567": 21,"12568": 2,"12569": 1,"12570": 9,"12571": 12,"12572": 4,"12573": 4,"12574": 18,"12575": 5,"12576": 6,"12577": 0,"12578": 1,"12579": 5,"12580": 40,"12581": 61,"12582": 31,"12583": 2,"12584": 45,"12585": 23,"12586": 3,"12587": 6,"12588": 4,"12589": 37,"12590": 67,"12591": 11,"12592": 12,"12593": 12,"12594": 20,"12595": 0,"12596": 4,"12597": 1,"12598": 17,"12599": 1,"12600": 3,"12601": 5,"12602": 25,"12603": 1,"12604": 94,"12605": 0,"12606": 18,"12607": 21,"12608": 10,"12609": 53,"12610": 88,"12611": 21,"12612": 0,"12613": 73,"12614": 26,"12615": 10,"12616": 8,"12617": 105,"12618": 22,"12619": 6,"12620": 34,"12621": 32,"12622": 1,"12623": 8,"12624": 30,"12625": 10,"12626": 144,"12627": 53,"12628": 2,"12629": 55,"12630": 12,"12631": 60,"12632": 5,"12633": 6,"12634": 2,"12635": 22,"12636": 34,"12637": 20,"12638": 5,"12639": 19,"12640": 47,"12641": 13,"12642": 11,"12643": 47,"12644": 40,"12645": 5,"12646": 4,"12647": 1,"12648": 1,"12649": 16,"12650": 7,"12651": 10,"12652": 14,"12653": 23,"12654": 50,"12655": 24,"12656": 5,"12657": 18,"12658": 1,"12659": 6,"12660": 3,"12661": 9,"12662": 13,"12663": 17,"12664": 3,"12665": 12,"12666": 2,"12667": 11,"12668": 9,"12669": 13,"12670": 3,"12671": 0,"12672": 11,"12673": 0,"12674": 3,"12675": 3,"12676": 2,"12677": 8,"12678": 1,"12679": 0,"12680": 3,"12681": 0,"12682": 1,"12683": 0,"12684": 5,"12685": 333,"12686": 405,"12687": 331,"12688": 17,"12689": 7,"12690": 9,"12691": 16,"12692": 9,"12693": 263,"12694": 19,"12695": 8,"12696": 169,"12697": 210,"12698": 32,"12699": 14,"12700": 119,"12701": 45,"12702": 593,"12703": 65,"12704": 2,"12705": 190,"12706": 11,"12707": 66,"12708": 4,"12709": 186,"12710": 597,"12711": 137,"12712": 34,"12713": 98,"12714": 80,"12715": 11,"12716": 3,"12717": 99,"12718": 86,"12719": 8,"12720": 58,"12721": 21,"12722": 4,"12723": 234,"12724": 174,"12725": 76,"12726": 97,"12727": 311,"12728": 377,"12729": 44,"12730": 467,"12731": 26,"12732": 1067,"12733": 17,"12734": 6,"12735": 28,"12736": 22,"12737": 8,"12738": 13,"12739": 120,"12740": 16,"12741": 70,"12742": 60,"12743": 192,"12744": 31,"12745": 61,"12746": 0,"12747": 17,"12748": 14,"12749": 100,"12750": 49,"12751": 9,"12752": 30,"12753": 28,"12754": 141,"12755": 49,"12756": 61,"12757": 9,"12758": 61,"12759": 32,"12760": 55,"12761": 15,"12762": 36,"12763": 85,"12764": 57,"12765": 181,"12766": 13,"12767": 5,"12768": 4,"12769": 0,"12770": 6,"12771": 3,"12772": 101,"12773": 13,"12774": 393,"12775": 14,"12776": 5,"12777": 40,"12778": 21,"12779": 1,"12780": 40,"12781": 22,"12782": 132,"12783": 106,"12784": 6,"12785": 20,"12786": 37,"12787": 37,"12788": 40,"12789": 170,"12790": 94,"12791": 2,"12792": 5,"12793": 52,"12794": 19,"12795": 498,"12796": 297,"12797": 10,"12798": 12,"12799": 99,"12800": 15,"12801": 8,"12802": 79,"12803": 383,"12804": 129,"12805": 46,"12806": 83,"12807": 170,"12808": 213,"12809": 262,"12810": 23,"12811": 41,"12812": 54,"12813": 111,"12814": 29,"12815": 72,"12816": 211,"12817": 42,"12818": 66,"12819": 237,"12820": 47,"12821": 36,"12822": 6,"12823": 231,"12824": 39,"12825": 40,"12826": 54,"12827": 19,"12828": 133,"12829": 19,"12830": 3,"12831": 277,"12832": 17,"12833": 0,"12834": 45,"12835": 3,"12836": 2,"12837": 0,"12838": 2,"12839": 10,"12840": 3,"12841": 1,"12842": 4,"12843": 23,"12844": 4,"12845": 9,"12846": 57,"12847": 24,"12848": 120,"12849": 36,"12850": 34,"12851": 10,"12852": 16,"12853": 9,"12854": 4,"12855": 68,"12856": 72,"12857": 35,"12858": 16,"12859": 0,"12860": 0,"12861": 11,"12862": 2,"12863": 2,"12864": 4,"12865": 171,"12866": 3,"12867": 1,"12868": 2,"12869": 0,"12870": 0,"12871": 15,"12872": 0,"12873": 40,"12874": 96,"12875": 19,"12876": 289,"12877": 50,"12878": 87,"12879": 37,"12880": 158,"12881": 35,"12882": 19,"12883": 54,"12884": 72,"12885": 12,"12886": 14,"12887": 512,"12888": 57,"12889": 3,"12890": 20,"12891": 75,"12892": 22,"12893": 90,"12894": 2,"12895": 0,"12896": 0,"12897": 0,"12898": 6,"12899": 0,"12900": 0,"12901": 76,"12902": 26,"12903": 4,"12904": 6,"12905": 5,"12906": 11,"12907": 5,"12908": 28,"12909": 32,"12910": 43,"12911": 8,"12912": 18,"12913": 11,"12914": 20,"12915": 4,"12916": 735,"12917": 192,"12918": 349,"12919": 518,"12920": 322,"12921": 5,"12922": 7,"12923": 78,"12924": 225,"12925": 26,"12926": 83,"12927": 52,"12928": 43,"12929": 102,"12930": 14,"12931": 296,"12932": 1,"12933": 49,"12934": 55,"12935": 9,"12936": 103,"12937": 200,"12938": 77,"12939": 198,"12940": 12,"12941": 3,"12942": 5,"12943": 83,"12944": 65,"12945": 26,"12946": 39,"12947": 34,"12948": 243,"12949": 17,"12950": 197,"12951": 81,"12952": 29,"12953": 282,"12954": 11,"12955": 11,"12956": 37,"12957": 6,"12958": 162,"12959": 742,"12960": 328,"12961": 927,"12962": 156,"12963": 37,"12964": 2,"12965": 0,"12966": 54,"12967": 0,"12968": 2,"12969": 0,"12970": 613,"12971": 35,"12972": 29,"12973": 3,"12974": 24,"12975": 31,"12976": 82,"12977": 53,"12978": 13,"12979": 648,"12980": 3,"12981": 312,"12982": 1,"12983": 179,"12984": 75,"12985": 224,"12986": 169,"12987": 234,"12988": 80,"12989": 37,"12990": 321,"12991": 15,"12992": 1,"12993": 41,"12994": 1180,"12995": 11,"12996": 6,"12997": 1,"12998": 245,"12999": 263,"13000": 357,"13001": 46,"13002": 60,"13003": 10,"13004": 6,"13005": 51,"13006": 97,"13007": 80,"13008": 2,"13009": 6,"13010": 35,"13011": 25,"13012": 20,"13013": 59,"13014": 53,"13015": 104,"13016": 19,"13017": 1,"13018": 346,"13019": 164,"13020": 31,"13021": 7,"13022": 11,"13023": 46,"13024": 0,"13025": 13,"13026": 34,"13027": 78,"13028": 197,"13029": 5,"13030": 30,"13031": 3,"13032": 8,"13033": 92,"13034": 136,"13035": 54,"13036": 0,"13037": 3,"13038": 297,"13039": 115,"13040": 267,"13041": 86,"13042": 8,"13043": 63,"13044": 17,"13045": 3,"13046": 11,"13047": 1,"13048": 22,"13049": 173,"13050": 108,"13051": 86,"13052": 10,"13053": 0,"13054": 41,"13055": 14,"13056": 91,"13057": 24,"13058": 8,"13059": 5,"13060": 18,"13061": 14,"13062": 32,"13063": 8,"13064": 7,"13065": 4,"13066": 24,"13067": 10,"13068": 219,"13069": 38,"13070": 190,"13071": 3,"13072": 2,"13073": 3,"13074": 87,"13075": 0,"13076": 0,"13077": 38,"13078": 9,"13079": 80,"13080": 15,"13081": 8,"13082": 160,"13083": 150,"13084": 7,"13085": 77,"13086": 1,"13087": 9,"13088": 26,"13089": 4,"13090": 18,"13091": 0,"13092": 0,"13093": 109,"13094": 17,"13095": 0,"13096": 3,"13097": 17,"13098": 11,"13099": 11,"13100": 72,"13101": 2,"13102": 0,"13103": 2,"13104": 6,"13105": 0,"13106": 29,"13107": 7,"13108": 1,"13109": 1,"13110": 0,"13111": 87,"13112": 8,"13113": 1,"13114": 4,"13115": 115,"13116": 2,"13117": 0,"13118": 7,"13119": 34,"13120": 4,"13121": 4,"13122": 0,"13123": 18,"13124": 1,"13125": 0,"13126": 8,"13127": 7,"13128": 9,"13129": 12,"13130": 35,"13131": 25,"13132": 60,"13133": 2,"13134": 5,"13135": 8,"13136": 3,"13137": 6,"13138": 5,"13139": 4,"13140": 2,"13141": 5,"13142": 3,"13143": 80,"13144": 0,"13145": 5,"13146": 4,"13147": 34,"13148": 40,"13149": 11,"13150": 7,"13151": 4,"13152": 4,"13153": 13,"13154": 2,"13155": 0,"13156": 2,"13157": 34,"13158": 1,"13159": 10,"13160": 0,"13161": 6};
    var w=parseInt(d3.select("div#VisMapas").style("width"),10)
    var h=w;
    var fesc=11564.1;
    svg=d3.select("svg#VisMapa")
        .attr("width",w)
        .attr("height",h)
    svg.append("image")
        .attr("xlink:href","./imgs/mapacorregidonomenclatura.png")
        .attr("x",0)
        .attr("y",0)
        .attr("width",w)
        .attr("height",h)
    var color2 = d3.scaleLinear()
                .domain([0, 5, 20])
                .range(['#d73027', '#fee08b', '#1a9850'])
                .interpolate(d3.interpolateHcl);
    var projection=d3.geoEquirectangular()
        .scale(163000*w/(1920*.7))
        .center([-99.1445, 19.3520])
        .translate([w / 2, h / 2]);
    var path = d3.geoPath()
        .projection(projection);

    d3.json("./datos/coloniascedemex.json", function(err, countries) {
        console.log(countries.features[0]);
        svg.selectAll("path")
            .data(countries.features)
            .enter().append("path")
            .attr("d", path)
            .style("fill-opacity",0.0)
            .on("mouseover",function(d){d3.select(this).style("stroke-width","1.3px").style("stroke","#ffd1d3");
                showPopover.call(this, d);
                console.log(d)})
            .on("mouseout",function(d){d3.select(this).style("stroke-width","0px").style("stroke","#ffd1d3");
                removePopovers();
            })

    })

    function showPopover (d) {
          $(this).popover({
            placement: 'auto top',
            container: 'body',
            trigger: 'manual',

            html : true,
            data:"popover",
            content: function() {
              return  "<p class='pops'>"+d.properties.SETT_TYPE+": "+d.properties.SETT_NAME+"</p>"
                        +"<p class='pops'> DELEGACIÓN: "+d.properties.MUN_NAME+"</p>"
                        +"<p class='pops'> DENSIDAD: "+Math.round(100*clavnumcol[d.properties.OBJECTID]/(d.properties.Shape_Area*1110400))/100+" incidentes/ha</p>"
                        +"<p class='pops'> SUPERFICIE: "+ Math.round(d.properties.Shape_Area*1110400) +" ha</p>"
                        +"<p class='pops'> INCIDENTES: "+clavnumcol[d.properties.OBJECTID]+"</p>"           }
          });
          $(this).popover('show')
        }
        function removePopovers () {
          $('.popover').each(function() {
            $(this).remove();
          }); 
        }

}
